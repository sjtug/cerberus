!function(){function e(e){if(e=a.i?.[e]||e,!t)try{throw Error()}catch(o){var r=(""+o.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(!r)return n+e;t=r[0]}return new URL(n+e,t).toString()}var t,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n="./",o={},i={},a=r.parcelRequireec24;function s(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)})}}function c(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function l(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){var c=[s,u];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},r.parcelRequireec24=a),a.register,Object.assign(a.i??={},{aykjc:"pow_bg.f114d6ca.wasm",lyHvT:"pow.worker.24234f98.js"}),"function"==typeof SuppressedError&&SuppressedError;var f={};"use strict";f=e("aykjc");var h={},d={};d=function(e,t,r){if(t===self.location.origin)return e;var n=r?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))};var p=new URL(e("lyHvT"));function g(e,t){if(!e)return null;var r=e;if(Array.isArray(t)){for(var n=0;n<t.length;++n)if((void 0===r?"undefined":c(r))!=="object"||!(r=r[t[n]]))return null;return r}return(void 0===r?"undefined":c(r))==="object"?r[t]:null}function b(e,t,r,n,o){var i=g(e[t],r);if(i)return(void 0===i?"undefined":c(i))===o;if(n){for(var a=0;a<n.length;++a)if(i=g(e[n[a]],r))return(void 0===i?"undefined":c(i))===o}return!1}h=d(p.toString(),p.origin,!1);var m=new(function(){function e(e,t){var r=this;this._data={},this._fallback={},this._defaultLocale=null,this._locale=null,Object.keys(e).forEach(function(n){"toString"!==n&&(r._data[n]=e[n],void 0===t&&(t=n))}),this.locale=t||null,this._defaultLocale=this.locale}return Object.defineProperty(e.prototype,"availableLocales",{get:function(){return Object.keys(this._data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=this.resolveLocale(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultLocale",{get:function(){return this._defaultLocale},set:function(e){this._defaultLocale=this.resolveLocale(e)},enumerable:!1,configurable:!0}),e.prototype.addMessages=function(e,t,r){var n=t||String(this.locale);if("function"!=typeof e&&(e=Object.keys(e).reduce(function(t,r){return"toString"!==r&&(t[r]=e[r]),t},{})),Array.isArray(r)&&r.length>0){for(var o=this._data[n],i=0;i<r.length-1;++i){var a=r[i];o[a]||(o[a]={}),o=o[a]}o[r[r.length-1]]=e}else this._data[n]=e;return this},e.prototype.resolveLocale=function(e){var t=String(e);if(this._data[t])return e;if(e){for(;t=t.replace(/[-_]?[^-_]*$/,"");)if(this._data[t])return t;for(var r=this.availableLocales,n=RegExp("^"+e+"[-_]"),o=0;o<r.length;++o)if(n.test(r[o]))return r[o]}return null},e.prototype.getFallback=function(e){var t=e||String(this.locale);return this._fallback[t]||(t!==this.defaultLocale&&this.defaultLocale?[this.defaultLocale]:[])},e.prototype.setFallback=function(e,t){return this._fallback[e]=Array.isArray(t)?t:null,this},e.prototype.hasMessage=function(e,t,r){var n=t||String(this.locale),o=r?this.getFallback(n):null;return b(this._data,n,e,o,"function")},e.prototype.hasObject=function(e,t,r){var n=t||String(this.locale),o=r?this.getFallback(n):null;return b(this._data,n,e,o,"object")},e.prototype.get=function(e,t,r){var n=r||String(this.locale),o=g(this._data[n],e);if(o)return"function"==typeof o?o(t):o;for(var i=this.getFallback(n),a=0;a<i.length;++a)if(o=g(this._data[i[a]],e))return"function"==typeof o?o(t):o;return e},e}())({zh:{challenge:{title:function(){return"验证您不是机器人"},calculating:function(){return"正在进行浏览器检查..."},difficulty_speed:function(e){return"难度："+e.difficulty+"，速度："+e.speed+"kH/s"},taking_longer:function(){return"验证时间超出预期，请勿刷新页面"},why_seeing:function(){return"为什么我会看到这个页面？"},why_seeing_body:{part_1:function(e){return"您看到这个页面是因为网站管理员启用了 "+e.cerberus+" 来防御异常流量攻击。这类攻击可能导致网站服务中断，影响所有用户的正常访问。"},part_2:function(e){return"如果您了解 "+e.techaro+" 开发的 "+e.anubis+"，那么 Cerberus 采用了类似的 PoW 验证技术。不同的是，Anubis 主要针对 AI 爬虫，而 Cerberus 则采用了更激进的策略来保护我们的开源基础设施。"},part_3:function(e){return"请注意，Cerberus 需要启用现代 JavaScript 功能，而 "+e.jshelter+" 等插件会禁用这些功能。请为本域名禁用 "+e.jshelter+" 或类似的插件。"}},must_enable_js:function(){return"请启用 JavaScript 以继续访问"}},success:{title:function(){return"验证成功"},verification_complete:function(){return"验证已完成"},took_time_iterations:function(e){return"用时 "+e.time+"ms，完成 "+e.iterations+" 次迭代"}},error:{error_occurred:function(){return"发生错误"},access_restricted:function(){return"访问受限"},browser_config_or_bug:function(){return"可能是浏览器配置问题，也可能是我们的系统出现了异常"},ip_blocked:function(){return"由于检测到可疑活动，您的 IP 地址或本地网络已被封禁"},wait_before_retry:function(){return"请稍后再试，某些情况下可能需要等待数小时"},contact_us:function(e){return"如有问题，请通过 "+e.mail+" 联系我们。请附上下方显示的 request ID，以便我们进行排查。"}},footer:{author:function(e){return"由 "+e.sjtug+" 开发的 "+e.cerberus+" 提供保护"},upstream:function(e){return"灵感来源于 \uD83C\uDDE8\uD83C\uDDE6 "+e.techaro+" 开发的 "+e.anubis}}},en:{challenge:{title:function(){return"Making sure you're not a bot!"},calculating:function(){return"Performing browser checks..."},difficulty_speed:function(e){return"Difficulty: "+e.difficulty+", Speed: "+e.speed+"kH/s"},taking_longer:function(){return"This is taking longer than expected. Please do not refresh the page."},why_seeing:function(){return"Why am I seeing this?"},why_seeing_body:{part_1:function(e){return"You are seeing this because the administrator of this website has set up "+e.cerberus+" to protect the server against abusive traffic. This can and does cause downtime for the websites, which makes their resources inaccessible for everyone."},part_2:function(e){return"If you're familiar with "+e.anubis+" by "+e.techaro+", Cerberus is similar - it performs a PoW challenge to verify the request. While Anubis focuses on protecting websites from AI scrapers, Cerberus takes a much more aggressive approach to protect our open-source infrastructure."},part_3:function(e){return"Please note that Cerberus requires the use of modern JavaScript features that plugins like "+e.jshelter+" will disable. Please disable "+e.jshelter+" or other such plugins for this domain."}},must_enable_js:function(){return"You must enable JavaScript to proceed."}},success:{title:function(){return"Success!"},verification_complete:function(){return"Verification Complete!"},took_time_iterations:function(e){return"Took "+e.time+"ms, "+e.iterations+" iterations"}},error:{error_occurred:function(){return"Error occurred while processing your request"},access_restricted:function(){return"Access has been restricted"},browser_config_or_bug:function(){return"There might be an issue with your browser configuration, or something is wrong on our side."},ip_blocked:function(){return"You (or your local network) have been blocked due to suspicious activity."},wait_before_retry:function(){return"Please wait a while before you try again; in some cases this may take a few hours."},contact_us:function(e){return"If you believe this is an error, please contact us at "+e.mail+". Attach the request ID shown below to help us investigate."}},footer:{author:function(e){return"Protected by "+e.cerberus+" from "+e.sjtug+"."},upstream:function(e){return"Heavily inspired by "+e.anubis+" from "+e.techaro+" in \uD83C\uDDE8\uD83C\uDDE6."}}}});function y(e,t){return m.get(e.split("."),t)}console.log(m.locale,m.availableLocales);var v={baseURL:"",version:"",locale:""},_={title:document.getElementById("title"),mascot:document.getElementById("mascot"),status:document.getElementById("status"),metrics:document.getElementById("metrics"),message:document.getElementById("message"),progressContainer:document.getElementById("progress-container"),progressBar:document.getElementById("progress-bar")},w={title:function(e){return _.title.textContent=e},mascotState:function(e){return _.mascot.src="".concat(v.baseURL,"/static/img/mascot-").concat(e,".png?v=").concat(v.version)},status:function(e){return _.status.textContent=e},metrics:function(e){return _.metrics.textContent=e},message:function(e){return _.message.textContent=e},progress:function(e){_.progressContainer.classList.toggle("hidden",!e),_.progressBar.style.width="".concat(e,"%")}};u(function(){var e,t,r,n,o,i,a,s,c,d,p,g,b,_,k,S,E,j,L;return l(this,function(C){switch(C.label){case 0:return r=(t=JSON.parse((e=document.getElementById("challenge-script")).getAttribute("x-challenge"))).challenge,n=t.difficulty,o=t.nonce,i=t.ts,a=t.signature,c=(s=JSON.parse(e.getAttribute("x-meta"))).baseURL,d=s.version,p=s.locale,v.baseURL=c,v.version=d,v.locale=p,m.locale=p,w.title(y("challenge.title")),w.mascotState("puzzle"),w.status(y("challenge.calculating")),w.metrics(y("challenge.difficulty_speed",{difficulty:n,speed:0})),w.message(""),w.progress(0),g=Date.now(),b=0,_=Math.pow(16,-n/2),[4,function(e){return u(function(e){var t,r,n,o,i=arguments;return l(this,function(a){return t=i.length>1&&void 0!==i[1]?i[1]:5,r=i.length>2&&void 0!==i[2]?i[2]:null,n=i.length>3&&void 0!==i[3]?i[3]:null,o=i.length>4&&void 0!==i[4]?i[4]:navigator.hardwareConcurrency||1,[2,new Promise(function(i,a){console.debug("fast algo");var s=[],c=function(){s.forEach(function(e){return e.terminate()}),null!==r&&(r.removeEventListener("abort",c),r.aborted&&(console.log("PoW aborted"),a(Error("PoW aborted"))))};null!==r&&r.addEventListener("abort",c,{once:!0}),u(function(){var r,u,d;return l(this,function(l){switch(l.label){case 0:var p;return[4,fetch((p=f)&&p.__esModule?p.default:p)];case 1:return[4,l.sent().arrayBuffer()];case 2:for(u=0,r=l.sent();u<o;u++)(d=new Worker(h)).onmessage=function(e){"number"==typeof e.data?null==n||n(e.data):(c(),i(e.data))},d.onerror=function(e){c(),a(e)},d.postMessage({wasmModule:r,data:e,difficulty:t,nonce:u,threads:o}),s.push(d);return[2]}})})()})]})}).apply(this,arguments)}("".concat(r,"|").concat(o,"|").concat(i,"|").concat(a,"|"),n,null,function(e){var t=Math.pow(1-_,e),r=(1-Math.pow(t,2))*100,o=Date.now()-g;o-b>200&&(w.progress(r),w.metrics(y("challenge.difficulty_speed",{difficulty:n,speed:(e/o).toFixed(3)})),w.message(t<.01?y("challenge.taking_longer"):void 0),b=o)})];case 1:return S=(k=C.sent()).hash,E=k.nonce,j=Date.now(),console.log({hash:S,solution:E}),w.title(y("success.title")),w.mascotState("pass"),w.status(y("success.verification_complete")),w.metrics(y("success.took_time_iterations",{time:j-g,iterations:E})),w.message(""),w.progress(0),L=function(e,t,r,n,o,i){function a(e,t,r){var n=document.createElement("input");n.type="hidden",n.name=t,n.value=r,e.appendChild(n)}var s=document.createElement("form");return s.method="POST",s.action="".concat(r,"/answer"),a(s,"response",e),a(s,"solution",t),a(s,"nonce",n),a(s,"ts",o),a(s,"signature",i),a(s,"redir",window.location.href),document.body.appendChild(s),s}(S,E,c,o,i,a),setTimeout(function(){L.submit()},250),[2]}})})()}();
//# sourceMappingURL=main.js.map
