const S='(function(){"use strict";let i,_=new Array(128).fill(void 0);_.push(void 0,null,!0,!1);function u(e){return _[e]}let b=_.length;function s(e){b===_.length&&_.push(_.length+1);const n=b;return b=_[n],_[n]=e,n}function M(e,n){try{return e.apply(this,n)}catch(t){i.__wbindgen_exn_store(s(t))}}let l=null;function y(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(i.memory.buffer)),l}let h=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});h.decode();const T=2146435072;let O=0;function W(e,n){return O+=n,O>=T&&(h=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),h.decode(),O=n),h.decode(y().subarray(e,e+n))}function A(e,n){return e=e>>>0,W(e,n)}function I(e){e<132||(_[e]=b,b=e)}function S(e){const n=u(e);return I(e),n}function p(e){return e==null}function j(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const c=e.description;return c==null?"Symbol":`Symbol(${c})`}if(n=="function"){const c=e.name;return typeof c=="string"&&c.length>0?`Function(${c})`:"Function"}if(Array.isArray(e)){const c=e.length;let f="[";c>0&&(f+=j(e[0]));for(let o=1;o<c;o++)f+=", "+j(e[o]);return f+="]",f}const t=/\\[object ([^\\]]+)\\]/.exec(toString.call(e));let r;if(t&&t.length>1)r=t[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}let m=0;const g=new TextEncoder;"encodeInto"in g||(g.encodeInto=function(e,n){const t=g.encode(e);return n.set(t),{read:e.length,written:t.length}});function E(e,n,t){if(t===void 0){const a=g.encode(e),w=n(a.length,1)>>>0;return y().subarray(w,w+a.length).set(a),m=a.length,w}let r=e.length,c=n(r,1)>>>0;const f=y();let o=0;for(;o<r;o++){const a=e.charCodeAt(o);if(a>127)break;f[c+o]=a}if(o!==r){o!==0&&(e=e.slice(o)),c=t(c,r,r=o+e.length*3,1)>>>0;const a=y().subarray(c+o,c+r),w=g.encodeInto(e,a);o+=w.written,c=t(c,r,o,1)>>>0}return m=o,c}let d=null;function D(){return(d===null||d.buffer.detached===!0||d.buffer.detached===void 0&&d.buffer!==i.memory.buffer)&&(d=new DataView(i.memory.buffer)),d}function L(e,n,t,r){const c=E(e,i.__wbindgen_malloc,i.__wbindgen_realloc),f=m;i.process_task(c,f,n,t,r)}function k(){const e={};return e.wbg={},e.wbg.__wbg_call_13410aac570ffff7=function(){return M(function(n,t){const r=u(n).call(u(t));return s(r)},arguments)},e.wbg.__wbg_instanceof_DedicatedWorkerGlobalScope_a054a9af652220ba=function(n){let t;try{t=u(n)instanceof DedicatedWorkerGlobalScope}catch{t=!1}return t},e.wbg.__wbg_new_19c25a3f2fa63a02=function(){const n=new Object;return s(n)},e.wbg.__wbg_newnoargs_254190557c45b4ec=function(n,t){const r=new Function(A(n,t));return s(r)},e.wbg.__wbg_postMessage_38909232d65f5870=function(){return M(function(n,t){u(n).postMessage(u(t))},arguments)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(n,t,r){u(n)[S(t)]=S(r)},e.wbg.__wbg_static_accessor_GLOBAL_8921f820c2ce3f12=function(){const n=typeof global>"u"?null:global;return p(n)?0:s(n)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_f0a4409105898184=function(){const n=typeof globalThis>"u"?null:globalThis;return p(n)?0:s(n)},e.wbg.__wbg_static_accessor_SELF_995b214ae681ff99=function(){const n=typeof self>"u"?null:self;return p(n)?0:s(n)},e.wbg.__wbg_static_accessor_WINDOW_cde3890479c675ea=function(){const n=typeof window>"u"?null:window;return p(n)?0:s(n)},e.wbg.__wbg_wbindgendebugstring_99ef257a3ddda34d=function(n,t){const r=j(u(t)),c=E(r,i.__wbindgen_malloc,i.__wbindgen_realloc),f=m;D().setInt32(n+4,f,!0),D().setInt32(n+0,c,!0)},e.wbg.__wbg_wbindgenisundefined_c4b71d073b92f3c5=function(n){return u(n)===void 0},e.wbg.__wbg_wbindgenthrow_451ec1a8469d7eb6=function(n,t){throw new Error(A(n,t))},e.wbg.__wbindgen_cast_2241b6af4c4b2941=function(n,t){const r=A(n,t);return s(r)},e.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(n){return s(n)},e.wbg.__wbindgen_object_clone_ref=function(n){const t=u(n);return s(t)},e.wbg.__wbindgen_object_drop_ref=function(n){S(n)},e}function x(e,n){return i=e.exports,d=null,l=null,i.__wbindgen_start(),i}function F(e){if(i!==void 0)return i;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const n=k();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const t=new WebAssembly.Instance(e,n);return x(t)}addEventListener("message",e=>{try{F({module:e.data.wasmModule})}catch(n){throw new Error("Failed to initialize WebAssembly module",{cause:n})}L(e.data.data,e.data.difficulty,e.data.nonce,e.data.threads)})})();\n',v=typeof self<"u"&&self.Blob&&new Blob([S],{type:"text/javascript;charset=utf-8"});function M(e){let t;try{if(t=v&&(self.URL||self.webkitURL).createObjectURL(v),!t)throw"";const n=new Worker(t,{name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(S),{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}const O=""+new URL("pow_bg-GOMz_MHU.wasm",import.meta.url).href;async function W(e,t=5,n=null,o=null,s=navigator.hardwareConcurrency||1){const r=[];try{const i=await(await fetch(O)).arrayBuffer();return await Promise.race(Array(s).fill(0).map((c,g)=>new Promise((d,_)=>{const f=new M;f.onmessage=({data:h})=>{var b;return(b=typeof h=="number"?o:d)==null?void 0:b(h)},f.onerror=_,f.postMessage({wasmModule:i,data:e,difficulty:t,nonce:g,threads:s}),n==null||n.addEventListener("abort",()=>_(new Error("PoW aborted")),{once:!0}),r.push(f)})))}finally{r.forEach(i=>i.terminate())}}var x=(function(){function e(t,n){var o=this;this._data={},this._fallback={},this._defaultLocale=null,this._locale=null,Object.keys(t).forEach(function(s){s!=="toString"&&(o._data[s]=t[s],n===void 0&&(n=s))}),this.locale=n||null,this._defaultLocale=this.locale}return Object.defineProperty(e.prototype,"availableLocales",{get:function(){return Object.keys(this._data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=this.resolveLocale(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultLocale",{get:function(){return this._defaultLocale},set:function(t){this._defaultLocale=this.resolveLocale(t)},enumerable:!1,configurable:!0}),e.prototype.addMessages=function(t,n,o){var s=n||String(this.locale);if(typeof t!="function"&&(t=Object.keys(t).reduce(function(g,d){return d!=="toString"&&(g[d]=t[d]),g},{})),Array.isArray(o)&&o.length>0){for(var r=this._data[s],i=0;i<o.length-1;++i){var c=o[i];r[c]||(r[c]={}),r=r[c]}r[o[o.length-1]]=t}else this._data[s]=t;return this},e.prototype.resolveLocale=function(t){var n=String(t);if(this._data[n])return t;if(t){for(;n=n.replace(/[-_]?[^-_]*$/,"");)if(this._data[n])return n;for(var o=this.availableLocales,s=new RegExp("^"+t+"[-_]"),r=0;r<o.length;++r)if(s.test(o[r]))return o[r]}return null},e.prototype.getFallback=function(t){var n=t||String(this.locale);return this._fallback[n]||(n===this.defaultLocale||!this.defaultLocale?[]:[this.defaultLocale])},e.prototype.setFallback=function(t,n){return this._fallback[t]=Array.isArray(n)?n:null,this},e.prototype.hasMessage=function(t,n,o){var s=n||String(this.locale),r=o?this.getFallback(s):null;return L(this._data,s,t,r,"function")},e.prototype.hasObject=function(t,n,o){var s=n||String(this.locale),r=o?this.getFallback(s):null;return L(this._data,s,t,r,"object")},e.prototype.get=function(t,n,o){var s=o||String(this.locale),r=m(this._data[s],t);if(r)return typeof r=="function"?r(n):r;for(var i=this.getFallback(s),c=0;c<i.length;++c)if(r=m(this._data[i[c]],t),r)return typeof r=="function"?r(n):r;return t},e})();function m(e,t){if(!e)return null;var n=e;if(Array.isArray(t)){for(var o=0;o<t.length;++o)if(typeof n!="object"||(n=n[t[o]],!n))return null;return n}return typeof n=="object"?n[t]:null}function L(e,t,n,o,s){var r=m(e[t],n);if(r)return typeof r===s;if(o){for(var i=0;i<o.length;++i)if(r=m(e[o[i]],n),r)return typeof r===s}return!1}const C={zh:{challenge:{title:()=>"验证您是真人",calculating:()=>"正在进行浏览器检查...",difficulty_speed:e=>"难度："+e.difficulty+"，速度："+e.speed+"kH/s",taking_longer:()=>"验证时间超出预期，请勿刷新页面",why_seeing:()=>"为什么我会看到这个页面？",why_seeing_body:{part_1:e=>"您看到这个页面是因为网站管理员启用了 "+e.cerberus+" 来防御异常流量攻击。这类攻击可能导致网站服务中断，影响所有用户的正常访问。",part_2:e=>"如果您了解 "+e.techaro+" 开发的 "+e.anubis+"，那么 Cerberus 采用了类似的 PoW 验证技术。不同的是，Anubis 主要针对 AI 爬虫，而 Cerberus 则采用了更激进的策略来保护我们的开源基础设施。",part_3:e=>"请注意，Cerberus 需要启用现代 JavaScript 功能，而 "+e.jshelter+" 等插件会禁用这些功能。请为本域名禁用 "+e.jshelter+" 或类似的插件。"}},success:{title:()=>"验证成功",verification_complete:()=>"验证已完成",took_time_iterations:e=>"用时 "+e.time+"ms，完成 "+e.iterations+" 次迭代"},error:{error_occurred:()=>"出错了",server_error:()=>"服务器返回了未知错误",client_error:()=>"验证过程中发生了意外错误",access_restricted:()=>"访问受限",must_enable_wasm:()=>"请启用 WebAssembly 以继续访问",apologize_please_enable_wasm:()=>"您的浏览器关闭了 WebAssembly，这可能是由于设置或插件导致的。已知部分浏览器（如 Safari 的锁定模式）会默认禁用 WebAssembly。 您需要重新启用 JavaScript 才能继续访问，抱歉给您带来不便。",browser_config_or_bug:()=>"这可能是浏览器配置问题造成的，或是我们的系统出现了异常。联系我们时烦请您附上错误详情。",error_details:e=>"错误详情："+e.error,ip_blocked:()=>"由于检测到可疑活动，您的 IP 地址或本地网络已被封禁",wait_before_retry:()=>"请稍后再试，某些情况下可能需要等待数小时",what_should_i_do:()=>"我该怎么办？",must_enable_js:()=>"请启用 JavaScript 以继续访问",apologize_please_enable_js:()=>"您的浏览器关闭了 JavaScript，这可能是由于设置或插件导致的。您需要重新启用 JavaScript 才能继续访问，抱歉给您带来不便。",do_not_reload_too_often:()=>"您可以尝试解决问题（如果您知道如何解决）后重新加载页面，或者等待几秒钟后再刷新。但是请避免频繁刷新，因为这可能会导致您的 IP 地址被封禁。",contact_us:e=>"如您有任何疑问，请发邮件到 "+e.mail+" 联系我们。随信请附下方显示的 Request ID，以便我们进行排查。"},footer:{author:e=>"由 "+e.sjtug+" 开发的 "+e.cerberus+" 提供保护",upstream:e=>"灵感来源于 🇨🇦 "+e.techaro+" 开发的 "+e.anubis}},en:{challenge:{title:()=>"Making sure you're not a bot!",calculating:()=>"Performing browser checks...",difficulty_speed:e=>"Difficulty: "+e.difficulty+", Speed: "+e.speed+"kH/s",taking_longer:()=>"This is taking longer than expected. Please do not refresh the page.",why_seeing:()=>"Why am I seeing this?",why_seeing_body:{part_1:e=>"You are seeing this because the administrator of this website has set up "+e.cerberus+" to protect the server against abusive traffic. This can and does cause downtime for the websites, which makes their resources inaccessible for everyone.",part_2:e=>"If you're familiar with "+e.anubis+" by "+e.techaro+", Cerberus is similar - it performs a PoW challenge to verify the request. While Anubis focuses on protecting websites from AI scrapers, Cerberus takes a much more aggressive approach to protect our open-source infrastructure.",part_3:e=>"Please note that Cerberus requires the use of modern JavaScript features that plugins like "+e.jshelter+" will disable. Please disable "+e.jshelter+" or other such plugins for this domain."}},success:{title:()=>"Success!",verification_complete:()=>"Verification Complete!",took_time_iterations:e=>"Took "+e.time+"ms, "+e.iterations+" iterations"},error:{error_occurred:()=>"Oops! Something went wrong",server_error:()=>"Server returned an error that we cannot handle.",client_error:()=>"Unexpected error occurred during verification.",access_restricted:()=>"Access has been restricted.",must_enable_wasm:()=>"Please enable WebAssembly to proceed.",apologize_please_enable_wasm:()=>"Your browser has WebAssembly disabled via settings or an extension. It's known that some browsers (e.g. Safari with Lockdown Mode) disable WebAssembly by default. We apologize for the inconvenience, but please re-enable WebAssembly to proceed.",browser_config_or_bug:()=>"There might be an issue with your browser configuration, or something is wrong on our side. Please attach the error details when contacting us.",error_details:e=>"Error details: "+e.error,ip_blocked:()=>"You (or your local network) have been blocked due to suspicious activity.",wait_before_retry:()=>"Please wait a while before you try again; in some cases this may take a few hours.",must_enable_js:()=>"You must enable JavaScript to proceed.",what_should_i_do:()=>"What should I do?",apologize_please_enable_js:()=>"Your browser has JavaScript disabled via settings or an extension. We apologize for the inconvenience, but please re-enable JavaScript to proceed.",do_not_reload_too_often:()=>"You can try fixing the underlying issue (if you know how) and then reload the page, or simply wait a few seconds before refreshing. However, avoid reloading too frequently as this may cause your IP address to be blocked.",contact_us:e=>"If you believe this is an error or have any questions, please contact us at "+e.mail+". Please kindly attach the request ID shown below to help us investigate."},footer:{author:e=>"Protected by "+e.cerberus+" from "+e.sjtug+".",upstream:e=>"Heavily inspired by "+e.anubis+" from "+e.techaro+" in 🇨🇦."}}},B=""+new URL("mascot-pass-B3FQ9yeD.png",import.meta.url).href,P=""+new URL("mascot-fail-C1z397QQ.png",import.meta.url).href,U=""+new URL("mascot-puzzle-DoXY0cHK.png",import.meta.url).href,A=new x(C);function u(e,t){return A.get(e.split("."),t)}const l={root:document.documentElement,mainArea:document.getElementById("main-area"),title:document.getElementById("title"),mascot:document.getElementById("mascot"),status:document.getElementById("status"),metrics:document.getElementById("metrics"),progressMessage:document.getElementById("progress-message"),progressContainer:document.getElementById("progress-container"),progressBar:document.getElementById("progress-bar"),messageArea:document.getElementById("message-area"),message:document.getElementById("message"),description:document.getElementById("description"),code:document.getElementById("code")},a={init:()=>{l.root.classList.remove("noscript-hidden")},areaMode:e=>{e==="progress"?(l.mainArea.classList.remove("hidden"),l.messageArea.classList.add("noscript")):e==="message"&&(l.mainArea.classList.add("hidden"),l.messageArea.classList.remove("noscript"))},title:e=>l.title.textContent=e,mascotState:e=>l.mascot.src=e==="pass"?B:e==="fail"?P:U,status:e=>l.status.textContent=e,metrics:e=>l.metrics.textContent=e,progressMessage:e=>l.progressMessage.textContent=e,progress:e=>{l.progressContainer.classList.toggle("hidden",!e),l.progressBar.style.width=`${e}%`},message:e=>l.message.textContent=e,description:e=>l.description.textContent=e,code:e=>{l.code.classList.toggle("hidden!",!e),l.code.textContent=e}};function R(e,t,n,o,s,r){function i(g,d,_){const f=document.createElement("input");f.type="hidden",f.name=d,f.value=_,g.appendChild(f)}const c=document.createElement("form");return c.method="POST",c.action=`${n}/answer`,i(c,"response",e),i(c,"solution",t),i(c,"nonce",o),i(c,"ts",s),i(c,"signature",r),i(c,"redir",window.location.href),document.body.appendChild(c),c}const D=e=>{a.areaMode("message"),a.title(u("error.error_occurred")),a.mascotState("fail"),e.message&&e.message.includes("Failed to initialize WebAssembly module")?(a.message(u("error.must_enable_wasm")),a.description(u("error.apologize_please_enable_wasm"))):(a.message(u("error.client_error")),a.description(u("error.browser_config_or_bug")),a.code(u("error.error_details",{error:e.message})))},z=async()=>{const e=document.getElementById("challenge-script"),{challenge:t,difficulty:n,nonce:o,ts:s,signature:r}=JSON.parse(e.getAttribute("x-challenge")),{baseURL:i,locale:c}=JSON.parse(e.getAttribute("x-meta"));A.locale=c,a.init(),a.areaMode("progress"),a.title(u("challenge.title")),a.mascotState("puzzle"),a.status(u("challenge.calculating")),a.metrics(u("challenge.difficulty_speed",{difficulty:n,speed:0})),a.progressMessage(""),a.progress(0);const g=Date.now();let d=0;const _=Math.pow(16,-n/2),f=`${t}|${o}|${s}|${r}|`,{hash:h,nonce:b}=await W(f,n,null,w=>{const y=Math.pow(1-_,w),I=(1-Math.pow(y,2))*100,p=Date.now()-g;if(p-d>200){const E=w/p;a.progress(I),a.metrics(u("challenge.difficulty_speed",{difficulty:n,speed:E.toFixed(3)})),a.progressMessage(y<.01?u("challenge.taking_longer"):void 0),d=p}}),j=Date.now();a.title(u("success.title")),a.mascotState("pass"),a.status(u("success.verification_complete")),a.metrics(u("success.took_time_iterations",{time:j-g,iterations:b})),a.progressMessage(""),a.progress(0);const k=R(h,b,i,o,s,r);setTimeout(()=>{k.submit()},250)};z().catch(D);
