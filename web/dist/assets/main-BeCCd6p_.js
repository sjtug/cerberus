const S='(function(){"use strict";let c;function _(e){const n=c.__externref_table_alloc();return c.__wbindgen_export_2.set(n,e),n}function m(e,n){try{return e.apply(this,n)}catch(t){const o=_(t);c.__wbindgen_exn_store(o)}}const h=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&h.decode();let d=null;function b(){return(d===null||d.byteLength===0)&&(d=new Uint8Array(c.memory.buffer)),d}function y(e,n){return e=e>>>0,h.decode(b().subarray(e,e+n))}function l(e){return e==null}function p(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const r=e.description;return r==null?"Symbol":`Symbol(${r})`}if(n=="function"){const r=e.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(e)){const r=e.length;let s="[";r>0&&(s+=p(e[0]));for(let i=1;i<r;i++)s+=", "+p(e[i]);return s+="]",s}const t=/\\[object ([^\\]]+)\\]/.exec(toString.call(e));let o;if(t&&t.length>1)o=t[1];else return toString.call(e);if(o=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:o}let g=0;const w=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},T=typeof w.encodeInto=="function"?function(e,n){return w.encodeInto(e,n)}:function(e,n){const t=w.encode(e);return n.set(t),{read:e.length,written:t.length}};function x(e,n,t){if(t===void 0){const u=w.encode(e),a=n(u.length,1)>>>0;return b().subarray(a,a+u.length).set(u),g=u.length,a}let o=e.length,r=n(o,1)>>>0;const s=b();let i=0;for(;i<o;i++){const u=e.charCodeAt(i);if(u>127)break;s[r+i]=u}if(i!==o){i!==0&&(e=e.slice(i)),r=t(r,o,o=i+e.length*3,1)>>>0;const u=b().subarray(r+i,r+o),a=T(e,u);i+=a.written,r=t(r,o,i,1)>>>0}return g=i,r}let f=null;function S(){return(f===null||f.buffer.detached===!0||f.buffer.detached===void 0&&f.buffer!==c.memory.buffer)&&(f=new DataView(c.memory.buffer)),f}function E(e,n,t,o){const r=x(e,c.__wbindgen_malloc,c.__wbindgen_realloc),s=g;c.process_task(r,s,n,t,o)}function O(){const e={};return e.wbg={},e.wbg.__wbg_call_672a4d21634d4a24=function(){return m(function(n,t){return n.call(t)},arguments)},e.wbg.__wbg_instanceof_DedicatedWorkerGlobalScope_a688e81380e34e02=function(n){let t;try{t=n instanceof DedicatedWorkerGlobalScope}catch{t=!1}return t},e.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},e.wbg.__wbg_newnoargs_105ed471475aaf50=function(n,t){return new Function(y(n,t))},e.wbg.__wbg_postMessage_83a8d58d3fcb6c13=function(){return m(function(n,t){n.postMessage(t)},arguments)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(n,t,o){n[t]=o},e.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const n=typeof global>"u"?null:global;return l(n)?0:_(n)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const n=typeof globalThis>"u"?null:globalThis;return l(n)?0:_(n)},e.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const n=typeof self>"u"?null:self;return l(n)?0:_(n)},e.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const n=typeof window>"u"?null:window;return l(n)?0:_(n)},e.wbg.__wbindgen_debug_string=function(n,t){const o=p(t),r=x(o,c.__wbindgen_malloc,c.__wbindgen_realloc),s=g;S().setInt32(n+4,s,!0),S().setInt32(n+0,r,!0)},e.wbg.__wbindgen_init_externref_table=function(){const n=c.__wbindgen_export_2,t=n.grow(4);n.set(0,void 0),n.set(t+0,void 0),n.set(t+1,null),n.set(t+2,!0),n.set(t+3,!1)},e.wbg.__wbindgen_is_undefined=function(n){return n===void 0},e.wbg.__wbindgen_number_new=function(n){return n},e.wbg.__wbindgen_string_new=function(n,t){return y(n,t)},e.wbg.__wbindgen_throw=function(n,t){throw new Error(y(n,t))},e}function A(e,n){return c=e.exports,f=null,d=null,c.__wbindgen_start(),c}function M(e){if(c!==void 0)return c;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const n=O();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const t=new WebAssembly.Instance(e,n);return A(t)}addEventListener("message",async e=>{M({module:e.data.wasmModule}),E(e.data.data,e.data.difficulty,e.data.nonce,e.data.threads)})})();\n',v=typeof self<"u"&&self.Blob&&new Blob([S],{type:"text/javascript;charset=utf-8"});function I(e){let t;try{if(t=v&&(self.URL||self.webkitURL).createObjectURL(v),!t)throw"";const n=new Worker(t,{name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(S),{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}const O=""+new URL("pow_bg-yv4ale_O.wasm",import.meta.url).href;async function M(e,t=5,n=null,o=null,s=navigator.hardwareConcurrency||1){const r=[];try{const a=await(await fetch(O)).arrayBuffer();return await Promise.race(Array(s).fill(0).map((i,d)=>new Promise((f,_)=>{const u=new I;u.onmessage=({data:h})=>{var b;return(b=typeof h=="number"?o:f)==null?void 0:b(h)},u.onerror=_,u.postMessage({wasmModule:a,data:e,difficulty:t,nonce:d,threads:s}),n==null||n.addEventListener("abort",()=>_(new Error("PoW aborted")),{once:!0}),r.push(u)})))}finally{r.forEach(a=>a.terminate())}}var C=(function(){function e(t,n){var o=this;this._data={},this._fallback={},this._defaultLocale=null,this._locale=null,Object.keys(t).forEach(function(s){s!=="toString"&&(o._data[s]=t[s],n===void 0&&(n=s))}),this.locale=n||null,this._defaultLocale=this.locale}return Object.defineProperty(e.prototype,"availableLocales",{get:function(){return Object.keys(this._data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=this.resolveLocale(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultLocale",{get:function(){return this._defaultLocale},set:function(t){this._defaultLocale=this.resolveLocale(t)},enumerable:!1,configurable:!0}),e.prototype.addMessages=function(t,n,o){var s=n||String(this.locale);if(typeof t!="function"&&(t=Object.keys(t).reduce(function(d,f){return f!=="toString"&&(d[f]=t[f]),d},{})),Array.isArray(o)&&o.length>0){for(var r=this._data[s],a=0;a<o.length-1;++a){var i=o[a];r[i]||(r[i]={}),r=r[i]}r[o[o.length-1]]=t}else this._data[s]=t;return this},e.prototype.resolveLocale=function(t){var n=String(t);if(this._data[n])return t;if(t){for(;n=n.replace(/[-_]?[^-_]*$/,"");)if(this._data[n])return n;for(var o=this.availableLocales,s=new RegExp("^"+t+"[-_]"),r=0;r<o.length;++r)if(s.test(o[r]))return o[r]}return null},e.prototype.getFallback=function(t){var n=t||String(this.locale);return this._fallback[n]||(n===this.defaultLocale||!this.defaultLocale?[]:[this.defaultLocale])},e.prototype.setFallback=function(t,n){return this._fallback[t]=Array.isArray(n)?n:null,this},e.prototype.hasMessage=function(t,n,o){var s=n||String(this.locale),r=o?this.getFallback(s):null;return L(this._data,s,t,r,"function")},e.prototype.hasObject=function(t,n,o){var s=n||String(this.locale),r=o?this.getFallback(s):null;return L(this._data,s,t,r,"object")},e.prototype.get=function(t,n,o){var s=o||String(this.locale),r=p(this._data[s],t);if(r)return typeof r=="function"?r(n):r;for(var a=this.getFallback(s),i=0;i<a.length;++i)if(r=p(this._data[a[i]],t),r)return typeof r=="function"?r(n):r;return t},e})();function p(e,t){if(!e)return null;var n=e;if(Array.isArray(t)){for(var o=0;o<t.length;++o)if(typeof n!="object"||(n=n[t[o]],!n))return null;return n}return typeof n=="object"?n[t]:null}function L(e,t,n,o,s){var r=p(e[t],n);if(r)return typeof r===s;if(o){for(var a=0;a<o.length;++a)if(r=p(e[o[a]],n),r)return typeof r===s}return!1}const B={zh:{challenge:{title:()=>"验证您不是机器人",calculating:()=>"正在进行浏览器检查...",difficulty_speed:e=>"难度："+e.difficulty+"，速度："+e.speed+"kH/s",taking_longer:()=>"验证时间超出预期，请勿刷新页面",why_seeing:()=>"为什么我会看到这个页面？",why_seeing_body:{part_1:e=>"您看到这个页面是因为网站管理员启用了 "+e.cerberus+" 来防御异常流量攻击。这类攻击可能导致网站服务中断，影响所有用户的正常访问。",part_2:e=>"如果您了解 "+e.techaro+" 开发的 "+e.anubis+"，那么 Cerberus 采用了类似的 PoW 验证技术。不同的是，Anubis 主要针对 AI 爬虫，而 Cerberus 则采用了更激进的策略来保护我们的开源基础设施。",part_3:e=>"请注意，Cerberus 需要启用现代 JavaScript 功能，而 "+e.jshelter+" 等插件会禁用这些功能。请为本域名禁用 "+e.jshelter+" 或类似的插件。"}},success:{title:()=>"验证成功",verification_complete:()=>"验证已完成",took_time_iterations:e=>"用时 "+e.time+"ms，完成 "+e.iterations+" 次迭代"},error:{error_occurred:()=>"发生错误",access_restricted:()=>"访问受限",browser_config_or_bug:()=>"可能是浏览器配置问题，也可能是我们的系统出现了异常",ip_blocked:()=>"由于检测到可疑活动，您的 IP 地址或本地网络已被封禁",wait_before_retry:()=>"请稍后再试，某些情况下可能需要等待数小时",what_should_i_do:()=>"我应该怎么做？",must_enable_js:()=>"请启用 JavaScript 以继续访问",apologize_please_enable_js:()=>"您的浏览器通过设置或扩展程序禁用了 JavaScript。我们对此造成的不便深表歉意，但请重新启用 JavaScript 以继续访问。",do_not_reload_too_often:()=>"不用担心 - 您可以尝试在几秒后刷新页面重试。但请尽量不要频繁刷新，因为这可能导致您的 IP 被封禁。",contact_us:e=>"如有问题，请通过 "+e.mail+" 联系我们。请附上下方显示的 request ID，以便我们进行排查。"},footer:{author:e=>"由 "+e.sjtug+" 开发的 "+e.cerberus+" 提供保护",upstream:e=>"灵感来源于 🇨🇦 "+e.techaro+" 开发的 "+e.anubis}},en:{challenge:{title:()=>"Making sure you're not a bot!",calculating:()=>"Performing browser checks...",difficulty_speed:e=>"Difficulty: "+e.difficulty+", Speed: "+e.speed+"kH/s",taking_longer:()=>"This is taking longer than expected. Please do not refresh the page.",why_seeing:()=>"Why am I seeing this?",why_seeing_body:{part_1:e=>"You are seeing this because the administrator of this website has set up "+e.cerberus+" to protect the server against abusive traffic. This can and does cause downtime for the websites, which makes their resources inaccessible for everyone.",part_2:e=>"If you're familiar with "+e.anubis+" by "+e.techaro+", Cerberus is similar - it performs a PoW challenge to verify the request. While Anubis focuses on protecting websites from AI scrapers, Cerberus takes a much more aggressive approach to protect our open-source infrastructure.",part_3:e=>"Please note that Cerberus requires the use of modern JavaScript features that plugins like "+e.jshelter+" will disable. Please disable "+e.jshelter+" or other such plugins for this domain."}},success:{title:()=>"Success!",verification_complete:()=>"Verification Complete!",took_time_iterations:e=>"Took "+e.time+"ms, "+e.iterations+" iterations"},error:{error_occurred:()=>"Error occurred while processing your request",access_restricted:()=>"Access has been restricted",browser_config_or_bug:()=>"There might be an issue with your browser configuration, or something is wrong on our side.",ip_blocked:()=>"You (or your local network) have been blocked due to suspicious activity.",wait_before_retry:()=>"Please wait a while before you try again; in some cases this may take a few hours.",must_enable_js:()=>"You must enable JavaScript to proceed.",what_should_i_do:()=>"What should I do?",apologize_please_enable_js:()=>"Your browser has JavaScript disabled via settings or an extension. We apologize for the inconvenience, but please re-enable JavaScript to proceed.",do_not_reload_too_often:()=>"Don't worry - you can try reloading the page after a few seconds. But please try not to do this too often, as it might lead to your IP being blocked.",contact_us:e=>"If you believe this is an error, please contact us at "+e.mail+". Attach the request ID shown below to help us investigate."},footer:{author:e=>"Protected by "+e.cerberus+" from "+e.sjtug+".",upstream:e=>"Heavily inspired by "+e.anubis+" from "+e.techaro+" in 🇨🇦."}}},P=""+new URL("mascot-pass-B3FQ9yeD.png",import.meta.url).href,U=""+new URL("mascot-fail-C1z397QQ.png",import.meta.url).href,T=""+new URL("mascot-puzzle-DoXY0cHK.png",import.meta.url).href,A=new C(B);function g(e,t){return A.get(e.split("."),t)}const l={root:document.documentElement,mainArea:document.getElementById("main-area"),messageArea:document.getElementById("message-area"),title:document.getElementById("title"),mascot:document.getElementById("mascot"),status:document.getElementById("status"),metrics:document.getElementById("metrics"),progressMessage:document.getElementById("message"),progressContainer:document.getElementById("progress-container"),progressBar:document.getElementById("progress-bar")},c={init:()=>{l.root.classList.remove("noscript-hidden")},areaMode:e=>{e==="progress"?(l.mainArea.classList.remove("hidden"),l.messageArea.classList.add("hidden")):e==="message"&&(l.mainArea.classList.add("hidden"),l.messageArea.classList.remove("hidden"))},title:e=>l.title.textContent=e,mascotState:e=>l.mascot.src=e==="pass"?P:e==="fail"?U:T,status:e=>l.status.textContent=e,metrics:e=>l.metrics.textContent=e,progressMessage:e=>l.progressMessage.textContent=e,progress:e=>{l.progressContainer.classList.toggle("hidden",!e),l.progressBar.style.width=`${e}%`},message:e=>{l.messageArea.textContent=e},description:e=>{l.description.textContent=e}};function W(e,t,n,o,s,r){function a(d,f,_){const u=document.createElement("input");u.type="hidden",u.name=f,u.value=_,d.appendChild(u)}const i=document.createElement("form");return i.method="POST",i.action=`${n}/answer`,a(i,"response",e),a(i,"solution",t),a(i,"nonce",o),a(i,"ts",s),a(i,"signature",r),a(i,"redir",window.location.href),document.body.appendChild(i),i}(async()=>{const e=document.getElementById("challenge-script"),{challenge:t,difficulty:n,nonce:o,ts:s,signature:r}=JSON.parse(e.getAttribute("x-challenge")),{baseURL:a,locale:i}=JSON.parse(e.getAttribute("x-meta"));A.locale=i,c.init(),c.areaMode("progress"),c.title(g("challenge.title")),c.mascotState("puzzle"),c.status(g("challenge.calculating")),c.metrics(g("challenge.difficulty_speed",{difficulty:n,speed:0})),c.progressMessage(""),c.progress(0);const d=Date.now();let f=0;const _=Math.pow(16,-n/2),u=`${t}|${o}|${s}|${r}|`,{hash:h,nonce:b}=await M(u,n,null,w=>{const y=Math.pow(1-_,w),x=(1-Math.pow(y,2))*100,m=Date.now()-d;if(m-f>200){const E=w/m;c.progress(x),c.metrics(g("challenge.difficulty_speed",{difficulty:n,speed:E.toFixed(3)})),c.progressMessage(y<.01?g("challenge.taking_longer"):void 0),f=m}}),j=Date.now();c.title(g("success.title")),c.mascotState("pass"),c.status(g("success.verification_complete")),c.metrics(g("success.took_time_iterations",{time:j-d,iterations:b})),c.progressMessage(""),c.progress(0);const k=W(h,b,a,o,s,r);setTimeout(()=>{k.submit()},250)})();
